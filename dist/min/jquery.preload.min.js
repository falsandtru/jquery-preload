/*! jquery.preload.js v0.3.0 | (c) 2014, falsandtru | MIT Licence */
!new function(a,b){"use strict";var c;!function(a){a.NAME="preload",a.NAMESPACE=jQuery,function(a){a[a.wait=-1]="wait",a[a.ready=0]="ready",a[a.lock=1]="lock",a[a.seal=2]="seal"}(a.State||(a.State={}));a.State}(c||(c={}));var c;!function(a){var b=function(){function b(){this.NAME=a.NAME,this.NAMESPACE=a.NAMESPACE,this.state_=-1,this.GEN_UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16).toUpperCase()})},this.stock=function b(c,d,e){if(this instanceof b)switch(typeof c){case"object":case"function":return this.uuid=a.M.GEN_UUID(),b[this.uuid]=this,jQuery.extend.apply(jQuery,[!0,this].concat([].slice.call(arguments)).concat({uuid:this.uuid}));case"string":return delete b[c]}else if("object"==typeof c){var f,g=c;for(f in g)a.Model.store(f,g[f])}else switch(arguments.length){case 0:return new this.stock;case 1:return this.stock[c]||a.Model.store(c);case 2:return a.Model.store(c,d);case 3:return a.Model.store(c,d,e)}},this.UUID=this.GEN_UUID()}return b.prototype.MAIN=function(a){for(var b=[],c=0;c<arguments.length-1;c++)b[c]=arguments[c+1];return this.main_.apply(this,[a].concat(b))},b.prototype.main_=function(a){for(var b=[],c=0;c<arguments.length-1;c++)b[c]=arguments[c+1];return this.state_=0,a},b.store=function(b,c){switch(arguments.length){case 0:break;case 1:return a.Model.store[b];case 2:return a.Model.store[b]=c;case 3:return a.Model.store[b]=jQuery.extend(!0,a.Model.store[b],c)}},b}();a.ModelTemplate=b}(c||(c={}));var c,d=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};!function(c){var e=function(e){function f(){e.apply(this,arguments),this.UTIL={canonicalizeUrl:function(a){var c;return c=this.trim(a),c=c.replace(/["`^|\\<>{}\[\]\s].*/,""),c=/^https?:/i.test(c)?c:function(a,b){return b.href=a,b.href}(c,b.createElement("a")),c=encodeURI(decodeURI(c)),c=c.replace(/(?:%\w{2})+/g,function(b){return a.match(b.toLowerCase())||b})},trim:function(a){if(String.prototype.trim)a=a.toString().trim();else if(a=String(a).replace(/^[\s\uFEFF\xA0]+/,""))for(var b=a.length;--b;)if(/[^\s\uFEFF\xA0]/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a},fire:function(b,c,d,e){return"undefined"==typeof c&&(c=a),"undefined"==typeof d&&(d=[]),"undefined"==typeof e&&(e=!1),"function"==typeof b?e?setTimeout(function(){b.apply(c||a,d)},0):b.apply(c||a,d):b}}}return d(f,e),f.prototype.main_=function(d,e){var f,g=this;switch(f=d instanceof c.NAMESPACE?"m:":"f:",f+=e?{}.toString.call(e).split(" ").pop().slice(0,-1).toLowerCase():e,f.toLowerCase()){case"f:number":case"f:0":case"f:string":e={link:e};case"f:":case"m:object":case"m:null":case"m:function":case"m:undefined":}d=d instanceof jQuery?d:jQuery(b);var h=new this.stock(this.configure(e));this.stock({setting:h,queue:[]});var i=a.location.href.replace(/#.*/,"");i=h.encode?c.M.UTIL.canonicalizeUrl(i):i;var j={};return j[i]=!0,this.stock("loaded",j,!0),d.uuid=h.uuid,jQuery(function(){h.view.push(new c.View(d).BIND(h.uuid)),h.view[0].CONTEXT.trigger(h.nss.event),g.state_=~g.state_?g.state_:0}),this.cooldown(h),d},f.prototype.configure=function(a){var b=jQuery.extend(!0,{},a),d={gns:c.M.NAME,ns:null,link:"a:not([target])",filter:function(){return/(\/[^.]*|\.html?|\.php)([#?].*)?$/.test(this.href)},lock:1e3,forward:null,check:null,interval:1e3,limit:2,cooldown:1e4,skip:50,query:"",encode:!1,ajax:{dataType:"text",async:!0,timeout:1500}},e={view:[],target:null,volume:0,points:[],touch:!1,xhr:null,timeStamp:0,option:a},f=function(){var a=[b.gns||c.M.NAME].concat(b.ns&&String(b.ns).split(".")||[]);return{nss:{name:b.ns||"",array:a,event:a.join("."),data:a.join("-"),class4html:a.join("-"),click:["click"].concat(a.join(":")).join("."),mousemove:["mousemove"].concat(a.join(":")).join("."),mouseover:["mouseover"].concat(a.join(":")).join("."),mouseout:["mouseout"].concat(a.join(":")).join("."),touchstart:["touchstart"].concat(a.join(":")).join("."),touchmove:["touchmove"].concat(a.join(":")).join("."),touchend:["touchend"].concat(a.join(":")).join(".")},ajax:jQuery.extend(!0,{},jQuery.ajaxSettings,b.ajax)}};return b=jQuery.extend(!0,{},d,b,e),b=jQuery.extend(!0,{},b,f())},f.prototype.cooldown=function(a){!function(a,b){setTimeout(function c(){b.volume-=Number(!!b.volume),setTimeout(c,a)},a,b)}(a.cooldown,a)},f.prototype.PRELOAD=function(a){var b=this.stock(a.data);b.volume=0,b.timeStamp=0,b.view[0].BIND(a.data,a)},f.prototype.CLICK=function(a){var b=this.stock(a.data),d=a.currentTarget;if(0===c.M.state_)switch(a.timeStamp=(new Date).getTime(),b.encode&&("href"in d?d.href=this.getURL_(b,d):d.src=this.getURL_(b,d)),!a.isDefaultPrevented()&&jQuery.data(a.currentTarget,b.nss.data)){case"preload":case"lock":if(b.forward){{this.getURL_(b,a.currentTarget)}!1===c.M.UTIL.fire(b.forward,null,[a,b.xhr,b.timeStamp])?"lock"===jQuery.data(a.currentTarget,b.nss.data)?a.preventDefault():(this.click_(b,a),jQuery.removeData(a.currentTarget,b.nss.data)):(a.preventDefault(),jQuery.removeData(a.currentTarget,b.nss.data))}else"lock"===jQuery.data(a.currentTarget,b.nss.data)?a.preventDefault():(this.click_(b,a),jQuery.removeData(a.currentTarget,b.nss.data));break;default:b.xhr&&b.xhr.readyState<4&&b.xhr.abort()}},f.prototype.MOUSEMOVE=function(a){var b=this.stock(a.data);0===c.M.state_&&(a.timeStamp=(new Date).getTime(),(!b.points[0]||30<a.timeStamp-b.points[0].timeStamp)&&(b.points.unshift(a),b.points.splice(10,1),this.check_(a,b)))},f.prototype.MOUSEOVER=function(a){var b=this.stock(a.data);b.target=a.currentTarget},f.prototype.MOUSEOUT=function(a){var b=this.stock(a.data);b.target=null},f.prototype.preload_=function(a){var b=this.stock(a.data),d=this,e=jQuery.extend(!0,{},b.ajax,{success:function(){for(var e=[],f=0;f<arguments.length-0;f++)e[f]=arguments[f+0];h=(new Date).getTime()-h,c.M.UTIL.fire(b.ajax.success,this,e);var i={};i[g]=!0,d.stock("loaded",i,!0),(304===arguments[2].status||h<=b.skip)&&(b.volume-=Number(!!b.volume),b.timeStamp=0),"click"===jQuery.data(a.currentTarget,b.nss.data)&&d.click_(b,a),jQuery.removeData(a.currentTarget,b.nss.data)},error:function(){for(var d=[],e=0;e<arguments.length-0;e++)d[e]=arguments[e+0];c.M.UTIL.fire(b.ajax.error,this,d),b.volume-=Number(!!b.volume),b.timeStamp=0,jQuery.removeData(a.currentTarget,b.nss.data)}}),f=b.query;f&&(f=f.split("="),f=encodeURIComponent(f[0])+(f.length>0?"="+encodeURIComponent(f[1]):""));var g=this.getURL_(b,a.currentTarget);e.url=g.replace(/([^#]+)(#[^\s]*)?$/,"$1"+(f?(g.match(/\?/)?"&":"?")+f:"")+"$2");var h=(new Date).getTime();b.xhr=jQuery.ajax(e),jQuery.when&&jQuery.when(b.xhr).done(b.ajax.done).fail(b.ajax.fail).always(b.ajax.always)},f.prototype.speed=function(a){if(a.length<3)return[];var b,c,d,e;return c=a[0].timeStamp-a[1].timeStamp,b=parseInt(String(Math.pow(a[0].pageX-a[1].pageX,2)+Math.pow(a[0].pageY-a[1].pageY,2)/(c||1)),10),e=a[1].timeStamp-a[2].timeStamp,d=parseInt(String(Math.pow(a[1].pageX-a[2].pageX,2)+Math.pow(a[1].pageY-a[2].pageY,2)/(e||1)),10),1e3>c&&1e3>e?[b-d,b]:[]},f.prototype.check_=function(b,d){var e,f,g,h=this;switch(e=this.getURL_(d,b.currentTarget),f=this.stock("queue"),!0){case d.target!==b.currentTarget:case f.length>100:case d.volume>=d.limit:case d.interval?(new Date).getTime()-d.timeStamp<d.interval:!1:case d.check?!!c.M.UTIL.fire(d.check,b.currentTarget,[e]):this.stock("loaded")[e.replace(/#.*/,"")]:case d.points.length<3:case d.points[2].pageX===b.pageX:case function(a){switch(!0){case!a.length:break;case-50>a[0]&&200>a[1]:case-50<a[0]&&50>a[0]&&-50<a[1]&&50>a[1]:return!1}return!0}(g=this.speed(d.points)):break;default:if(!d.ajax.crossDomain&&(d.target.protocol!==a.location.protocol||d.target.host!==a.location.host))break;d.xhr&&d.xhr.readyState<4&&d.xhr.abort();var i={};i[e.replace(/#.*/,"")]=!0,this.stock("loaded",i,!0),++d.volume,d.timeStamp=b.timeStamp,jQuery.data(b.currentTarget,d.nss.data,"preload"),d.lock&&(jQuery.data(b.currentTarget,d.nss.data,"lock"),jQuery(b.currentTarget).one(d.nss.click,function(a){if(jQuery.data(a.currentTarget,d.nss.data)){var b=Math.max(d.lock-(new Date).getTime()+a.data,0);jQuery.data(a.currentTarget,d.nss.data,"click"),b&&(setTimeout(function(){"click"===jQuery.data(a.currentTarget,d.nss.data)&&h.click_(d,a),jQuery.removeData(a.currentTarget,d.nss.data)},b),a.preventDefault())}}),this.preload_(b))}},f.prototype.click_=function(d,e){var f=this,g=e.currentTarget;d.xhr&&d.xhr.readyState<4&&d.xhr.abort(),jQuery(e.currentTarget).removeData(d.nss.data),jQuery(b).find(e.currentTarget)[0]&&(jQuery(b).unbind(d.nss.click).one(d.nss.click,function(b){b.isDefaultPrevented()||(a.location.href=d.encode?c.M.UTIL.canonicalizeUrl(g.href):g.href,d.encode&&(a.location.href=f.getURL_(d,b.currentTarget)))}),jQuery(e.currentTarget).click()),e.preventDefault()},f.prototype.getURL_=function(a,b){var d;switch(b.tagName.toLowerCase()){case"a":case"link":d=b.href;break;case"script":case"img":case"iframe":d=b.src}return a.encode?c.M.UTIL.canonicalizeUrl(d):d},f}(c.ModelTemplate);c.ModelMain=e,c.Model=e,c.M=new c.Model}(c||(c={}));var c;!function(a){var b=function(){function b(b){switch(this.state_=-1,this.queue_=[],this.HANDLERS={},this.UUID=a.M.GEN_UUID(),arguments.length){case 0:break;case 1:this.CONTEXT=b,this.OBSERVE()}this.state_=0}return b.prototype.OBSERVE=function(){},b.prototype.RELEASE=function(){},b.prototype.BIND=function(){for(var a=[],b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];return this.UNBIND(),this},b.prototype.UNBIND=function(){for(var a=[],b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];return this},b.EVENTS={},b.TRIGGERS={},b}();a.ViewTemplate=b}(c||(c={}));var c;!function(a){var b=function(b){function c(){b.apply(this,arguments),this.HANDLERS={PRELOAD:function(b){a.C.PRELOAD(b)},CLICK:function(b){a.C.CLICK(b)},MOUSEMOVE:function(b){a.C.MOUSEMOVE(b)},MOUSEOVER:function(b){a.C.MOUSEOVER(b)},MOUSEOUT:function(b){a.C.MOUSEOUT(b)}}}return d(c,b),c.prototype.OBSERVE=function(){return this},c.prototype.RELEASE=function(){return this},c.prototype.BIND=function(b,c){var d=a.M.stock(b);return this.UNBIND(b,c),this.CONTEXT.bind(d.nss.event,b,this.HANDLERS.PRELOAD),c&&this.CONTEXT.find(c.currentTarget).add(this.CONTEXT.filter(c.currentTarget)).find(d.link).filter(d.filter).bind(d.nss.click,b,this.HANDLERS.CLICK).bind(d.nss.mouseover,b,this.HANDLERS.MOUSEOVER).bind(d.nss.mousemove,b,this.HANDLERS.MOUSEMOVE).bind(d.nss.mouseout,b,this.HANDLERS.MOUSEOUT),this},c.prototype.UNBIND=function(b,c){var d=a.M.stock(b);return this.CONTEXT.unbind(d.nss.event),c&&this.CONTEXT.find(c.currentTarget).add(this.CONTEXT.filter(c.currentTarget)).find(d.link).filter(d.filter).unbind(d.nss.click).unbind(d.nss.mouseover).unbind(d.nss.mousemove).unbind(d.nss.mouseout),this},c.prototype.RESET=function(a){return this.CONTEXT.trigger(a.nss.event),this},c.EVENTS={BIND:a.M.NAME},c.TRIGGERS={},c}(a.ViewTemplate);a.ViewMain=b,a.View=b,a.V=new a.View}(c||(c={}));var c;!function(a){var b=function(){function b(){this.state_=-1,this.HANDLERS={},this.UUID=a.M.GEN_UUID(),a.M.NAMESPACE[a.M.NAME]=a.M.NAMESPACE&&a.M.NAMESPACE==a.M.NAMESPACE.window?this.EXEC:a.M.NAMESPACE.prototype[a.M.NAME]=this.EXEC;var b="function"==typeof a.ControllerFunction&&new a.ControllerFunction||a.ControllerFunction;this.REGISTER_FUNCTIONS(a.M.NAMESPACE[a.M.NAME],b),this.UPDATE_PROPERTIES(a.M.NAMESPACE[a.M.NAME],b),this.OBSERVE(),this.state_=0}return b.prototype.EXTEND=function(b){b===a.M.NAMESPACE||a.M.NAMESPACE&&a.M.NAMESPACE==a.M.NAMESPACE.window?b=a.M.NAMESPACE[a.M.NAME]:b instanceof a.M.NAMESPACE&&b instanceof jQuery&&(b=b.add());var c="function"==typeof a.ControllerFunction&&new a.ControllerFunction||a.ControllerFunction,d="function"==typeof a.ControllerMethod&&new a.ControllerMethod||a.ControllerMethod;return this.REGISTER_FUNCTIONS(b,c),this.REGISTER_FUNCTIONS(b,d),this.UPDATE_PROPERTIES(b,c),this.UPDATE_PROPERTIES(b,d),b},b.prototype.EXEC=function(){for(var b=[],c=0;c<arguments.length-0;c++)b[c]=arguments[c+0];var d=a.C.EXTEND(this);return b=[d].concat(b),b=a.C.exec_.apply(a.C,b),b=b instanceof Array?b:[b],a.M.MAIN.apply(a.M,b)},b.prototype.exec_=function(a){for(var b=[],c=0;c<arguments.length-1;c++)b[c]=arguments[c+1];return[a].concat(b)},b.prototype.REGISTER_FUNCTIONS=function(b,c){{var d;a.Controller.PROPERTIES}for(d in c)b[d]=c[d];return b},b.prototype.UPDATE_PROPERTIES=function(b,c){var d,e,f,g=a.Controller.PROPERTIES;for(d=0,e=g.length;e>d;d++)f=g[d],c[f]&&(b[f]=c[f].call(b));return b},b.prototype.OBSERVE=function(){},b.prototype.RELEASE=function(){},b.EVENTS={},b.FUNCTIONS={},b.METHODS={},b.PROPERTIES=[],b.TRIGGERS={},b}();a.ControllerTemplate=b}(c||(c={}));var c;!function(a){var b=function(){function b(){}return b.prototype.enable=function(){return a.M.state_=0,this},b.prototype.disable=function(){return a.M.state_=1,this},b}();a.ControllerFunction=b}(c||(c={}));var c;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return d(b,a),b}(a.ControllerFunction);a.ControllerMethod=b}(c||(c={}));var c;!function(a){var b=function(b){function c(){b.apply(this,arguments),this.HANDLERS={}}return d(c,b),c.prototype.PRELOAD=function(b){a.M.PRELOAD(b)},c.prototype.CLICK=function(b){a.M.CLICK(b)},c.prototype.MOUSEMOVE=function(b){a.M.MOUSEMOVE(b)},c.prototype.MOUSEOVER=function(b){a.M.MOUSEOVER(b)},c.prototype.MOUSEOUT=function(b){a.M.MOUSEOUT(b)},c.prototype.OBSERVE=function(){},c.EVENTS={},c.PROPERTIES=[],c.TRIGGERS={},c}(a.ControllerTemplate);a.ControllerMain=b,a.Controller=b,a.C=new a.Controller}(c||(c={}))}(window,window.document,void 0,jQuery);